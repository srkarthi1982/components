---
interface Props {
  /** Link destination (default: home) */
  href?: string;

  /** Title text — default ANSIVERSA */
  title?: string;

  /** Subtitle text — default Curated Apps */
  subtitle?: string;

  /** Path to the logo icon (default: /favicon.svg) */
  logo?: string;

  /** Extra classes if needed */
  className?: string;
}

const {
  href = (() => {
    const rawDomain = (import.meta.env.ANSIVERSA_COOKIE_DOMAIN || "ansiversa.com").trim();
    const normalizedDomain = rawDomain.replace(/^(https?:\/\/)/i, "").replace(/\/+$/, "");
    const protocol = rawDomain.match(/^https?:\/\//i)
      ? undefined
      : import.meta.env.PROD
        ? "https"
        : "http";
    const ROOT_URL = rawDomain.match(/^https?:\/\//i)
      ? rawDomain.replace(/\/+$/, "")
      : `${protocol}://${normalizedDomain}`;

    return ROOT_URL;
  })(),
  title = "ANSIVERSA",
  subtitle = "Curated Apps",
  logo = "/favicon.svg",
  className = "",
} = Astro.props;

const classes = ["av-navbar-brand"];
if (className) classes.push(className);
const classAttr = classes.join(" ");
---

<a href={href} class={classAttr}>
  <div class="av-navbar-brand__logo">
    <img src={logo} alt="Ansiversa logo" />
  </div>

  <div class="av-navbar-brand__meta">
    <span class="av-navbar-brand__title av-gradient-text">{title}</span>
    <span class="av-navbar-brand__subtitle">{subtitle}</span>
  </div>
</a>
